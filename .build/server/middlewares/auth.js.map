{"version":3,"file":"auth.js","sourceRoot":"","sources":["../../../server/middlewares/auth.ts"],"names":[],"mappings":"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"}