(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{850:function(e,t,r){var content=r(875);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(33).default)("0a26b730",content,!0,{sourceMap:!1})},874:function(e,t,r){"use strict";r(850)},875:function(e,t,r){var n=r(32)(!1);n.push([e.i,"#login-page[data-v-4b6ed405]{width:100vw;height:100vh;background-color:#2d3a4b;overflow:auto;display:flex;justify-content:center;align-items:center}",""]),e.exports=n},888:function(e,t,r){"use strict";r.r(t);r(20),r(12),r(25),r(38),r(13),r(39);var n=r(7),o=r(8),c=(r(119),r(63),r(62));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={auth:!1,layout:"empty",asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$api,r=e.$axios,n=e.redirect,t.next=3,r.$get("/auth/inited");case 3:if(o=t.sent,console.log(o),!o){t.next=7;break}return t.abrupt("return",n({name:c.ROUTES.Redirect}));case 7:case"end":return t.stop()}}),t)})))()},data:function(){var e=this;return{form:{username:"",password:"",confirmPwd:"",profile:{name:""}},rules:{username:{required:!0},password:{required:!0},confirmPwd:{required:!0,validator:function(t,r,n){if(!r||r!==e.form.password)return n(new Error("Mật khẩu không chính xác"));n()}}}}},methods:{handleSubmit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validateForm(e.$refs.form);case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:return r={admin:f({},e.form)},n=e.$loading({text:"Đang khởi tạo tài khoản admin...",lock:!0}),t.next=10,e.$axios.$post("/auth/init",r);case 10:return o=t.sent,c=o.token,n.text="Thành công, đang đăng nhập...",t.next=15,e.$auth.getStrategy().setUserToken(c);case 15:setTimeout((function(){e.$router.go(),n.close()}),1e3),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),e.$message.error(e.getErrorMessage(t.t0));case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))()}}},d=(r(874),r(4)),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login-page"}},[r("el-card",{staticClass:"max-w-md w-full"},[r("div",{attrs:{slot:"header"},slot:"header"},[e._v("Khởi tạo tài khoản Admin")]),e._v(" "),r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.handleSubmit(t)}}},[r("el-form-item",{attrs:{prop:"username",label:"Tên đăng nhập"}},[r("el-input",{attrs:{placeholder:"Username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password",label:"Mật khẩu"}},[r("el-input",{attrs:{type:"password","show-password":"",placeholder:"Mật khẩu"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"confirmPwd",label:"Nhập lại mật khẩu"}},[r("el-input",{attrs:{type:"password","show-password":"",placeholder:"Nhập lại mật khẩu"},model:{value:e.form.confirmPwd,callback:function(t){e.$set(e.form,"confirmPwd",t)},expression:"form.confirmPwd"}})],1),e._v(" "),r("el-button",{staticClass:"w-full",attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("\n        Khởi tạo\n      ")])],1)],1)],1)}),[],!1,null,"4b6ed405",null);t.default=component.exports}}]);