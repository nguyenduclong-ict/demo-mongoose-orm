(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{806:function(e,t,n){var content=n(816);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(33).default)("0565f0ab",content,!0,{sourceMap:!1})},815:function(e,t,n){"use strict";n(806)},816:function(e,t,n){var o=n(32)(!1);o.push([e.i,".tox-notifications-container{display:none}.app-editor{display:inline-block}.app-editor .tox-toolbar__primary{background:#fff!important;border-bottom:1px solid #ccc!important}.app-editor .tox-toolbar__primary .tox-tbtn{height:var(--toolbar-size)}",""]),e.exports=o},820:function(e,t,n){"use strict";n.r(t);n(20),n(12),n(25),n(38),n(39);var o=n(7),r=(n(473),n(81),n(297),n(298),n(116),n(17),n(40),n(41),n(827),n(113),n(13),n(834)),c=n(800);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={name:"TinymceEditor",components:{editor:r.a,MediaPicker:c.default},props:{value:String,toolbarSize:{validator:function(e){return"small"===e||"normal"===e},default:"normal"},placeholder:String,options:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){var e=this;return{selectedImage:[],init:d({max_height:600,menubar:!1,toolbar_mode:"sliding",plugins:["advlist autolink lists link image charmap print preview anchor media advcode","searchreplace visualblocks code fullscreen","insertdatetime media table paste code wordcount a11ychecker tabfocus"],toolbar:["fullscreen preview formatselect fontselect bold italic forecolor backcolor","alignleft aligncenter alignright alignjustify","table bullist numlist outdent indent removeformat image mediapicker media undo redo code"].join(" ").split(" ").join("|"),font_formats:"Andale Mono=andale mono,times; Arial=arial,helvetica,sans-serif; Arial Black=arial black,avant garde; Book Antiqua=book antiqua,palatino; Comic Sans MS=comic sans ms,sans-serif; Courier New=courier new,courier; Georgia=georgia,palatino; Helvetica=helvetica; Impact=impact,chicago; Symbol=symbol; Tahoma=tahoma,arial,helvetica,sans-serif; Terminal=terminal,monaco; Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva; Verdana=verdana,geneva; Webdings=webdings; Wingdings=wingdings,zapf dingbats",paste_preprocess:function(e,data){if(console.log(e,data.content),data.content){if(data.content.startsWith("https://youtu.be")){var t=data.content.replace("https://youtu.be","https://www.youtube.com/embed");return void(data.content='<iframe width="560" height="315" src="'.concat(t,'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'))}if(data.content.startsWith("https://www.youtube.com/watch")){var n=new URL(data.content).searchParams.get("v"),o="https://www.youtube.com/embed/".concat(n);return void(data.content='<iframe width="560" height="315" src="'.concat(o,'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'))}(data.content.startsWith("https:")||data.content.startsWith("http:"))&&(data.content='<a href="'.concat(data.content,'">').concat(data.content,"</a>"))}},lists_indent_on_tab:!0,content_css:"/css/tinymce.css",images_upload_handler:this.imageUploadHandler,image_caption:!0,image_advtab:!0,a11y_advanced_options:!0,resize_img_proportional:!1,paste_data_images:!0,image_dimensions:!1,automatic_uploads:!0,file_picker_callback:this.filePickerHandler,image_class_list:[{title:"Width: 100%",value:"image__w-full"},{title:"Width: 50%",value:"image__w-50pt"},{title:"Width: auto",value:"image__w-auto"}],setup:function(t){e.$emit("setup",t),e.editor=t,t.on("ObjectResized",e.handleImageResized),t.on("keydown",e.handleEditorKeydown),t.ui.registry.addButton("mediapicker",{text:"",icon:"image",onAction:function(){e.$refs.mediaPicker.showDialog()}})},init_instance_callback:function(t){e.$emit("init-instance",t),t.dom.doc.addEventListener("dblclick",e.handleEditorContainerDblclick)},placeholder:this.placeholder,branding:!1,elementpath:!1,statusbar:!0,resize:!0},this.options),editor:null,previewKeyDown:null,active:!0}},computed:{_value:{get:function(){return this.value},set:function(e){return this.$emit("input",e)}}},methods:{imageUploadHandler:function(e,t,n,progress){this.$services.Media.upload(this.$axios,e.blob(),progress,(function(e){return n(e.message)})).then((function(e){t(e[0].url)}))},handleImageResized:function(e){e.target.classList.value=e.target.classList.value.replace(/(^| )image__w-\w*/g,""),e.target.classList.add("resized")},handleEditorContainerDblclick:function(e){"IMG"===e.target.tagName&&window.open(e.target.getAttribute("src"),"_blank")},handleEditorKeydown:function(e){var t=this;"Tab"===e.code&&"Minus"===this.previewKeyDown?(e.preventDefault(),this.$nextTick((function(){t.editor.execCommand("Delete"),t.editor.execCommand("InsertOrderedList",!1,{"list-style-type":"decimal"})}))):"Tab"===e.code&&"Period"===this.previewKeyDown&&(e.preventDefault(),this.$nextTick((function(){t.editor.execCommand("Delete"),t.editor.execCommand("InsertUnorderedList",!0,{"list-style-type":"disc"})}))),this.previewKeyDown=e.code},reload:function(){var e=this;this.active=!1,this.$nextTick((function(){e.active=!0}))},handleInsertImage:function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){return t.editor.insertContent('<img src="'.concat(e.url,'" alt="').concat(e.alt,'" title="').concat(e.title,'" />'))})),this.$nextTick((function(){t.selectedImage=[],t.$refs.mediaPicker.closeDialog()}))}}},f=(n(815),n(4)),component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-editor",style:{"--toolbar-size":{small:"24px",normal:"34px"}[e.toolbarSize]}},[e.active?n("editor",{attrs:{"init-value":e.value,init:e.init,disabled:e.disabled},model:{value:e._value,callback:function(t){e._value=t},expression:"_value"}}):e._e(),e._v(" "),n("MediaPicker",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"mediaPicker",attrs:{limit:100},on:{input:e.handleInsertImage},model:{value:e.selectedImage,callback:function(t){e.selectedImage=t},expression:"selectedImage"}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{MediaPicker:n(800).default})},834:function(e,t,n){"use strict";var o,r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],c=function(e){return-1!==r.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},l=function(e,t,n){var o=t.$props.value?t.$props.value:"",r=t.$props.initialValue?t.$props.initialValue:"";n.setContent(o||(t.initialized?t.cache:r)),t.$watch("value",(function(e,o){n&&"string"==typeof e&&e!==o&&e!==n.getContent({format:t.$props.outputFormat})&&n.setContent(e)})),t.$listeners.input&&function(e,t){var n=e.$props.modelEvents?e.$props.modelEvents:null,o=Array.isArray(n)?n.join(" "):n;t.on(o||"change input undo redo",(function(){e.$emit("input",t.getContent({format:e.$props.outputFormat}))}))}(t,n),function(e,t,n){Object.keys(t).filter(c).forEach((function(o){var r=t[o];"function"==typeof r&&("onInit"===o?r(e,n):n.on(o.substring(2),(function(e){return r(e,n)})))}))}(e,t.$listeners,n),t.initialized=!0},d=0,m=function(e){var time=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++d+String(time)},f=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},h=function(){return{listeners:[],scriptId:m("tiny-script"),scriptLoaded:!1}},v=(o=h(),{load:function(e,t,n){o.scriptLoaded?n():(o.listeners.push(n),e.getElementById(o.scriptId)||function(e,t,n,o){var r=t.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=e,r.src=n;var c=function(){r.removeEventListener("load",c),o()};r.addEventListener("load",c),t.head&&t.head.appendChild(r)}(o.scriptId,e,t,(function(){o.listeners.forEach((function(e){return e()})),o.scriptLoaded=!0})))},reinitialize:function(){o=h()}}),y=n(843),w={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},_=function(){return(_=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},$=function(e){return function(){var t,n,element,o=_(_({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:(t=e.$props.init&&e.$props.init.plugins,n=e.$props.plugins,f(t).concat(f(n))),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",(function(n){return l(n,e,t)})),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});null!==(element=e.element)&&"textarea"===element.tagName.toLowerCase()&&(e.element.style.visibility="",e.element.style.display=""),Object(y.a)().init(o)}},k={props:w,created:function(){this.elementId=this.$props.id||m("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(y.a)())$(this)();else if(this.element&&this.element.ownerDocument){var e=this.$props.cloudChannel?this.$props.cloudChannel:"5",t=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=null==this.$props.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":this.$props.tinymceScriptSrc;v.load(this.element.ownerDocument,n,$(this))}},beforeDestroy:function(){null!==Object(y.a)()&&Object(y.a)().remove(this.editor)},deactivated:function(){var e;this.inlineEditor||(this.cache=this.editor.getContent(),null===(e=Object(y.a)())||void 0===e||e.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&$(this)()},render:function(e){return this.inlineEditor?function(e,t,n){return e(n||"div",{attrs:{id:t}})}(e,this.elementId,this.$props.tagName):function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})}(e,this.elementId)}};t.a=k},843:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var o=function(){return"undefined"!=typeof window?window:e},r=function(){var e=o();return e&&e.tinymce?e.tinymce:null}}).call(this,n(42))}}]);